
### CMC SERVICES ###
cmc-claim-store:
  java:
    releaseNameOverride: demo-preview-cmc-claimstore
    secrets: 
      GOV_NOTIFY_API_KEY:
          secretRef: cmc-aat-notify-api-key
          key: key
      OAUTH2_CLIENT_SECRET:
          secretRef: cmc-aat-oauth-client-secret
          key: key
      IDAM_CASEWORKER_ANONYMOUS_USERNAME:
          secretRef: cmc-aat-anonymous-caseworker-username
          key: key
      IDAM_CASEWORKER_ANONYMOUS_PASSWORD:
          secretRef: cmc-aat-anonymous-caseworker-password
          key: key
      IDAM_CASEWORKER_SYSTEM_USERNAME:
          secretRef: cmc-aat-system-update-username
          key: key
      IDAM_CASEWORKER_SYSTEM_PASSWORD:
          secretRef: cmc-aat-system-update-password
          key: key
    environment:
      SPRING_MAIL_HOST: mailhog 
      SPRING_MAIL_PORT: 1025
      CLAIM_STORE_DB_HOST: demo-preview-postgres
      CMC_DB_HOST: demo-preview-postgres
      CORE_CASE_DATA_API_URL: http://demo-preview-data-store-api
      FEATURE_TOGGLES_DIRECTIONS_QUESTIONNAIRE_ENABLED: true
      FEATURE_TOGGLES_SAVE_CLAIM_STATE_ENABLED: true
      PAY_URL: false
      FEES_URL: false
      IDAM_API_URL: https://idam-api.aat.platform.hmcts.net
      IDAM_S2S_AUTH_URL: http://demo-preview-s2s
      PDF_SERVICE_URL: http://demo-preview-pdf
      SEND_LETTER_URL: http://demo-preview-sendletter
      DOCUMENT_MANAGEMENT_URL: http://demo-preview-dmstore
      FRONTEND_BASE_URL: https://cmc-citizen-frontend-chart.service.core-compute-preview.internal 
      RESPOND_TO_CLAIM_URL: https://cmc-citizen-frontend-chart.service.core-compute-preview.internal/first-contact/start
  ccd:
    ingressHost: cmc-ccd-chart.service.core-compute-preview.internal 
    idamApiUrl: https://idam-api.aat.platform.hmcts.net
    idamWebUrl: https://idam-web-public.aat.platform.hmcts.net
    s2sUrl: http://demo-preview-s2s
    draftStoreUrl: http://demo-preview-draftstore
    paymentsUrl: http://demo-preview-payments
    apiGateway:
      s2sKey: AAAAAAAAAAAAAAAA
      idamClientSecret: 
        fromSecret: true
        secretKeyRefName: ccd-aat-ccd-api-gateway-oauth2-client-secret
        secretKeyRefKey: key
    dataStoreApi:
      s2sKey: AAAAAAAAAAAAAAAA
    definitionStoreApi:
      s2sKey: AAAAAAAAAAAAAAAA
    adminWeb:
      s2sKey: AAAAAAAAAAAAAAAA
      idamClientSecret: 
        fromSecret: true
        secretKeyRefName: ccd-aat-ccd-admin-web-oauth2-client-secret
        secretKeyRefKey: key
    idam-pr:
      releaseNameOverride: demo-preview-ccd-idam-pr
      redirect_uris:
        CCD:
          - https://case-management-web-cmc-ccd-chart.service.core-compute-preview.internal/oauth2redirect
        CCD Admin:
          - https://admin-web-cmc-ccd-chart.service.core-compute-preview.internal/oauth2redirect
    importer:
      userprofile:
        userProfileDatabaseHost: demo-preview-postgres
      definition:
        importerFromSecret: true
        importerUsername: 
          secretKeyRefName: cmc-aat-ccd-importer-username
          secretKeyRefKey: key
        importerPassword: 
          secretKeyRefName: cmc-aat-ccd-importer-password
          secretKeyRefKey: key
        redirectUri: "https://ccd-case-management-web-aat.service.core-compute-aat.internal/oauth2redirect"
    postgresql:
      nameOverride: postgres

cmc-citizen-frontend:
  nodejs:
    ingressHost: cmc-citizen-frontend-chart.service.core-compute-preview.internal
    memoryRequests: 512Mi
    memoryLimits: 1024Mi 
    releaseNameOverride: demo-preview-cmc-citizen-web
    secrets:
      OAUTH_CLIENT_SECRET:
          secretRef: cmc-aat-citizen-oauth-client-secret
          key: key
    environment:
      IDAM_API_URL: https://idam-api.aat.platform.hmcts.net
      IDAM_AUTHENTICATION_WEB_URL: https://idam-web-public.aat.platform.hmcts.net
      FEATURE_TOGGLES_API_URL: http://demo-preview-ftrtgl
      CLAIM_STORE_URL: http://demo-preview-cmc-claimstore
      IDAM_S2S_AUTH: http://demo-preview-s2s
      PAY_URL: http://demo-preview-payments
      FEES_URL: http://demo-preview-fees
      DRAFT_STORE_URL: http://demo-preview-draftstore
  idam-pr:
    service:
      redirect_uri: https://cmc-citizen-frontend-chart.service.core-compute-preview.internal/receiver
  rpe-feature-toggle-api:
    importer:
      apiUrl: http://demo-preview-ftrtgl/api/ff4j/store/features/
    java:
      releaseNameOverride: demo-preview-ftrtgl
      environment:
        FEATURES_DB_HOST: demo-preview-postgres
########################

##### DEPENDENCIES #####
rpe-send-letter-service:
  java:
    releaseNameOverride: demo-preview-sendletter
    environment:
      FLYWAY_URL: "jdbc:postgresql://demo-preview-postgres:5432/send_letter"
      LETTER_TRACKING_DB_HOST: demo-preview-postgres
      S2S_URL: http://demo-preview-s2s

dm-store:
  java:
    releaseNameOverride: demo-preview-dmstore
    environment:
      IDAM_USER_BASE_URI: https://idam-api.aat.platform.hmcts.net
      IDAM_S2S_BASE_URI: http://demo-preview-s2s
      SPRING_DATASOURCE_URL: "jdbc:postgresql://demo-preview-postgres:5432/evidence"

cmc-pdf-service:
  java:
    releaseNameOverride: demo-preview-pdf

draft-store-service:
  java:
    releaseNameOverride: demo-preview-draftstore
    environment:
      IDAM_URL: https://idam-api.aat.platform.hmcts.net
      S2S_URL: http://demo-preview-s2s
      DRAFT_STORE_DB_HOST: demo-preview-postgres

fees-register-api:
  java:
    releaseNameOverride: demo-preview-fees
    environment:
      SPRING_DATASOURCE_URL: "jdbc:postgresql://demo-preview-postgres:5432/fees_register"

payment-api:
  java:
    releaseNameOverride: demo-preview-payments
    secrets: 
      GOV_PAY_AUTH_KEY_CMC:
          secretRef: ccpay-aat-gov-pay-keys-cmc
          key: key
    environment:
      AUTH_IDAM_CLIENT_BASEURL: https://idam-api.aat.platform.hmcts.net
      AUTH_PROVIDER_SERVICE_CLIENT_BASEURL: http://demo-preview-s2s
      FEES_REGISTER_URL: http://demo-preview-fees
      SPRING_DATASOURCE_URL: "jdbc:postgresql://demo-preview-postgres:5432/payment_api"
      SPRING_MAIL_HOST: mailhog
      SPRING_MAIL_PORT: 1025

rpe-service-auth-provider:
  java:
    releaseNameOverride: demo-preview-s2s

postgresql:
  nameOverride: postgres
########################